#Dockerfile for angelcam/cve-docker-example image  
#take basic angelcam image  
FROM angelcam/cve-public:latest  
  
  
MAINTAINER Martin Dobrovolny <martin@angelcam.com>  
  
  
#copy files from repository to image  
ADD . /root/tmp/detector/  
  
#copy test video and add permissions for cvapp user - just for this example
case  
RUN cp /root/tmp/detector/data/face.mp4 /home/cvapp/ \  
&& chmod a+r /home/cvapp/face.mp4  
  
#install example and remove temoporary files  
RUN cd /root/tmp/detector \  
&& make clean \  
&& make install \  
&& cp etc/* /home/cvapp/ \  
&& chmod a+r /home/cvapp/default_config.ini \  
&& rm -r /root/tmp  
  
#set environment variable of engine name = filename of engine binary file in
/usr/local/bin/  
ENV CVE_ENGINE detector  
  
  
  

